html, body { height: 100%; margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; color: #111; }
code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
.topbar {
  display:flex; align-items:center; justify-content:space-between;
  padding: 12px 14px; border-bottom: 1px solid #e8e8e8; background:#fff; gap: 12px;
  position: sticky; top:0; z-index: 999;
}
.brand { font-weight: 800; font-size: 18px; }
.muted { color: #666; }
.small { font-size: 12px; line-height: 1.35; }

.layout { display:grid; grid-template-columns: 1fr 340px; height: calc(100% - 56px); }
.map { height: 100%; }
.side { border-left: 1px solid #eee; background: #fafafa; padding: 12px; overflow:auto; }

.card { background:#fff; border:1px solid #eee; border-radius: 16px; padding: 12px; box-shadow: 0 1px 8px rgba(0,0,0,0.04); margin-bottom: 12px; }
.card__title { font-weight: 700; margin-bottom: 8px; }

.kv { display:grid; grid-template-columns: 140px 1fr; gap: 6px 10px; font-size: 13px; }
.progress { height: 8px; background:#f0f0f0; border-radius: 999px; overflow:hidden; margin-top: 10px; }
.progress__bar { height: 100%; background:#2b6dff; }

.btn { border: 1px solid #e6e6e6; background:#fff; padding: 8px 10px; border-radius: 10px; cursor:pointer; font-weight: 600; }
.btn--ghost { background:#fff; }
.btn--primary { background:#2b6dff; color:#fff; border-color:#2b6dff; }
.btn:hover { filter: brightness(0.98); }
.fileBtn { display:inline-flex; align-items:center; gap: 8px; }
.fileBtn input { display:none; }

.modal.hidden { display:none; }
.modal { position: fixed; inset: 0; z-index: 2000; display:flex; align-items: stretch; justify-content: center; }
.modal__backdrop { position:absolute; inset:0; background: rgba(0,0,0,0.35); }
.modal__panel {
  position: relative;
  margin: 24px;
  width: min(1100px, calc(100vw - 48px));
  height: min(860px, calc(100vh - 48px));
  background:#fff; border-radius: 18px; overflow:hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.25);
  display:flex; flex-direction: column;
}
.modal__header { padding: 12px 14px; border-bottom: 1px solid #eee; display:flex; align-items:center; justify-content: space-between; gap: 12px; }
.modal__title { font-weight: 900; font-size: 18px; }
.modal__controls {
  padding: 12px 14px; border-bottom: 1px solid #eee;
  display:flex; align-items:flex-end; gap: 12px; flex-wrap: wrap;
}
.field { display:flex; flex-direction: column; gap: 6px; }
.field__label { font-size: 12px; color:#666; font-weight: 700; }
.input { border:1px solid #ddd; border-radius: 10px; padding: 8px 10px; font-weight: 600; }
.modal__body { padding: 14px; overflow:auto; display:flex; flex-direction: column; gap: 10px; }
.modalGrid { display:grid; grid-template-columns: minmax(260px, 360px) 1fr; gap: 12px; align-items: start; }
.mapCard { border: 1px solid #eee; border-radius: 12px; padding: 8px; background: #fff; }
.modalRouteMap { width: 100%; height: 320px; border-radius: 10px; background: #f7f7f7; }
.signWrap { display:flex; justify-content:center; }
#signCanvas { max-width: 100%; height: auto; border: 1px solid #eee; border-radius: 12px; background:#fff; }

@media (max-width: 980px) {
  .modalGrid { grid-template-columns: 1fr; }
  .modalRouteMap { height: 260px; }
}
